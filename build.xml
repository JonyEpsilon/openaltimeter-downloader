<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<project default="Windows build" name="Build and deploy script">
    <target name="Windows build">
       <mkdir dir="build/windows/downloader"/>
       <jar destfile="build/windows/downloader/downloader.jar">
            <manifest>
                <attribute name="Main-Class" value="org.openaltimeter.desktopapp.Controller"/>
                <attribute name="Class-Path" value=". RXTXcomm.jar jfreechart-1.0.13.jar jcommon-1.0.16.jar flexjson-2.0.jar"/>
            </manifest>
            <fileset dir="bin"/>
        </jar>
        <copy file="lib/RXTXcomm.jar" todir="build/windows/downloader"/>
        <copy file="lib/jfreechart-1.0.13.jar" todir="build/windows/downloader"/>
        <copy file="lib/jcommon-1.0.16.jar" todir="build/windows/downloader"/>
        <copy file="lib/flexjson-2.0.jar" todir="build/windows/downloader"/>
        <copy file="lib/rxtx_native/rxtxSerial.dll" todir="build/windows/downloader"/>
    	<copy todir="build/windows/downloader/windows_flash">
    	 <fileset dir="lib/windows_flash"/>
		</copy>
    	<copy todir="build/windows/downloader/docs">
    	 <fileset dir="docs"/>
		</copy>
    </target>
	
    <target name="Windows clean">
        <delete dir="build/windows/downloader"/>
     </target>
</project>
